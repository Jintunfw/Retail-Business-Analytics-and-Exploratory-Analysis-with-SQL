# Retail Sales Data Analysis using SQL

This project demonstrates a foundational approach to retail sales data analysis using SQL. It involves creating a mock dataset, populating it with sample data, and then performing various analytical queries to extract meaningful business insights. The dataset simulates common retail entities such as products, customers, employees, stores, and transactions.

## Table of Contents

- [Project Overview](#project-overview)
- [Dataset Schema](#dataset-schema)
- [SQL Script Structure](#sql-script-structure)
- [Key Analyses & Insights](#key-analyses--insights)
- [How to Use](#how-to-use)
- [Technologies Used](#technologies-used)
- [Future Enhancements](#future-enhancements)

## Project Overview

The goal of this project is to simulate a retail environment and derive actionable insights from its transactional data. By creating a normalized schema (dimension and fact tables) and populating it with mock data, we can then perform various aggregations and analyses to understand sales performance, customer behavior, and product trends.

## Dataset Schema

The dataset is designed with a star schema-like structure, consisting of the following tables:

**Dimension Tables:**

* `products`: Stores details about individual products (ID, name, category, price).
* `customers`: Contains information about customers (ID, name, email, city).
* `employees`: Holds details about employees (ID, name, position, assigned store).
* `stores`: Provides information about retail store locations (ID, name, location).

**Fact Table:**

* `transactions`: Records each sales transaction, linking to the dimension tables via foreign keys. It includes `transaction_date`, `quantity`, and `total_amount`.

**View:**

* `sales`: A virtual table created to simplify complex queries by joining the `transactions` fact table with all dimension tables, making it easier to access combined information like `customer_name`, `product_name`, `store_name`, etc.

## SQL Script Structure

The provided `retail_analysis.sql` script is structured as follows:

1.  **Table Creation:** `CREATE TABLE` statements for all dimension and fact tables, including primary and foreign key constraints.
2.  **Data Insertion:** `INSERT INTO` statements to populate all tables with mock retail data for the period of January to October 2024.
3.  **View Creation:** Defines the `sales` VIEW, which denormalizes the data for easier analytical querying.
4.  **Initial Data Review:** `SELECT *` statements to display the contents of each table and the created view.
5.  **Analytical Queries:** A series of SQL queries designed to answer specific business questions and extract insights from the data.

## Key Analyses & Insights

The analytical queries in this project aim to provide a comprehensive understanding of the retail operations:

* **Top Spender:** Identifies the customer with the highest total expenditure (e.g., Alice).
* **Overall Sales Volume:** Calculates the total number of items sold across all transactions.
* **Average Selling Price:** Determines the average price of products sold.
* **Employee Performance:** Ranks employees based on the total revenue they generated (e.g., Emily as the top performer).
* **Product Performance:** Identifies the top 3 and bottom 3 best-selling products by total sales.
* **Store Revenue:** Determines which store generates the most revenue (e.g., Downtown Store).
* **Category Revenue:** Calculates total revenue generated by each product category (e.g., Electronics as the highest).
* **Order Date Range:** Finds the earliest and latest transaction dates in the dataset.
* **Transaction Segmentation:** Categorizes individual transactions into 'regular', 'privilege', and 'VIP' segments based on `total_amount`, and provides a count for each segment.

## How to Use

This SQL script is designed to be run in a SQLite environment.

1.  **Save the SQL:** Save the provided SQL code into a file named `retail_analysis.sql`.
2.  **Open SQLite:** Open your SQLite command-line interface or a SQLite GUI tool (like DB Browser for SQLite).
3.  **Execute the Script:**
    * In the SQLite command line, navigate to the directory where you saved `retail_analysis.sql`.
    * Run the script using the command: `.read retail_analysis.sql`
    * The `.mode column` and `.header on` commands are included in the script for better readability of results in the SQLite command line.

This will create the database schema, insert the data, and execute all the analytical queries, displaying their results.

## Technologies Used

* **SQL:** The core language used for database creation, data manipulation, and analysis.
* **SQLite:** The database system used to execute the SQL script.

## Future Enhancements

* **Time-Series Analysis:** Extend analysis to trend sales over months/quarters, year-over-year growth, etc.
* **Customer Lifetime Value (CLTV):** Calculate CLTV to identify most valuable customers.
* **Cohort Analysis:** Group customers by acquisition date to understand their long-term behavior.
* **Product Affinity:** Identify which products are frequently purchased together.
* **Dashboarding:** Connect the database to a visualization tool (e.g., Tableau, Power BI, Metabase) to create interactive dashboards for key metrics.
* **More Complex Segmentation:** Implement more sophisticated customer or transaction segmentation strategies.
* **Data Cleaning & Validation:** Add SQL constraints or pre-processing steps for more robust data integrity.
